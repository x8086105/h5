<!doctype html>
<meta charset="utf-8">
<title>Treasure hunter</title>
<body>
<script src="pixi/pixi.min.js"></script>
<script>
//Aliases
let Application = PIXI.Application,
    Container = PIXI.Container,
    loader = PIXI.loader,
    resources = PIXI.loader.resources,
    Graphics = PIXI.Graphics,
    TextureCache = PIXI.utils.TextureCache,
    Sprite = PIXI.Sprite,
    Text = PIXI.Text,
    TextStyle = PIXI.TextStyle;

//Create a Pixi Application
let app = new Application({                 
    antialiasing: true, 
    transparent: false, 
    resolution: 1
  }
);
//全屏展示
app.renderer.view.style.position = "absolute";
app.renderer.view.style.display = "block";
app.renderer.autoResize = true;
app.renderer.resize(window.innerWidth, window.innerHeight);
//创建Sence
let gameChooseSence,gameOfficeholderIngSence,state,scale;
document.body.appendChild(app.view);
loader
  .add([
    "images/changping.png",
    "images/final.png",
    "images/queen.png",
    "images/officeholder.png",
    "images/xinning.png",
    "images/bg.png"
  ])
  .load(setup);
  function setup(){

    let bg = new Sprite(resources["images/bg.png"].texture);
    bg.width=window.innerWidth;
    bg.height=window.innerHeight;
    gameChooseSence=new Container();
    //这里加载三个人物（民女，官员，皇上）
    scale=0.15;//人物缩放的倍数
    let girl=new Sprite(resources["images/changping.png"].texture);
    girl.scale.set(scale,scale);
    girl.y=app.screen.height-girl.height;
    let officeholder=new Sprite(resources["images/officeholder.png"].texture);
    officeholder.scale.set(scale,scale);
    officeholder.x=girl.width;
    officeholder.y=app.screen.height-girl.height;
    let final=new Sprite(resources["images/final.png"].texture);
    final.scale.set(0.1,0.1);
    final.x=girl.width+officeholder.width;
    final.y=app.screen.height-final.height;
    gameChooseSence.addChild(bg);
    gameChooseSence.addChild(girl);
    gameChooseSence.addChild(officeholder);
    gameChooseSence.addChild(final);
    app.stage.addChild(gameChooseSence);
    state=choose;
    //app.ticker.add(delta => test(delta));
    //开启精灵可点击事件
    girl.buttonMode=true;
    girl.interactive=true;
    girl.on("click",officeholder1);
  }
  function choose(delta){
      console.log("ss");
  }
  //民女的展示图
  function officeholder1(){
    console.log("wodianjile");
    gameChooseSence.visible=false;
    
    gameOfficeholderIngSence=new Container();
    let girl=new Sprite(resources["images/changping.png"].texture);
    girl.scale.set(scale,scale);
    girl.y=app.screen.height-girl.height;
    gameOfficeholderIngSence.addChild(girl);
    
    gameOfficeholderIngSence.visible = true;
    app.stage.addChild(gameOfficeholderIngSence);
  }
</script>
</body>